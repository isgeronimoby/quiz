window.addEventListener("load",function(){if(window.DGW=function(){if(document.getElementById("dgl-gamified-widget")){var e=document.getElementById("dgl-gamified-widget").getAttribute("data-key");if(e)return{templates:{},main:{methods:{},elements:{pages:{}},currentState:"earn",cache:{drawsList:[],drawsEntries:[]}},side:{methods:{},elements:{}},global:{authorized:!1,launched:!1,api:{apiKey:e,requests:{}},elements:{},methods:{}},states:{},helpers:{}}}console.warn("No script ID or data-key attribute provided")}(),DGW){!function(e,t,n,i,o,a){function s(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function r(e,t){return!("object"!=typeof e[t]||!e[t])}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(!D(navigator.plugins)&&"object"==typeof navigator.plugins[e]){var n=navigator.plugins[e].description;n&&!D(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(E=n.match(/\d+/g))}if(!E){var i;try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),E=Array.prototype.slice.call(i.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),i=null}catch(o){}}if(!E)return!1;var a=parseInt(E[0],10),s=parseInt(E[1],10);return x=a>9&&s>0,!0}function c(){if(!j){j=!0;for(var e=0;e<U.length;e++)U[e]();U.length=0}}function m(e,t){return j?void e.call(t):void U.push(function(){e.call(t)})}function u(){var e=parent;if(""!==H)for(var t=0,n=H.split(".");t<n.length;t++)e=e[n[t]];return e.easyXDM}function p(t){return e.easyXDM=B,H=t,H&&(F="easyXDM_"+H.replace(".","_")+"_"),z}function g(e){return e.match(_)[3]}function h(e){return e.match(_)[4]||""}function f(e){var t=e.toLowerCase().match(_),n=t[2],i=t[3],o=t[4]||"";return("http:"==n&&":80"==o||"https:"==n&&":443"==o)&&(o=""),n+"//"+i+o}function v(e){if(e=e.replace(N,"$1/"),!e.match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":n.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=n.protocol+"//"+n.host+t+e}for(;I.test(e);)e=e.replace(I,"");return e}function w(e,t){var n="",i=e.indexOf("#");-1!==i&&(n=e.substring(i),e=e.substring(0,i));var o=[];for(var s in t)t.hasOwnProperty(s)&&o.push(s+"="+a(t[s]));return e+(A?"#":-1==e.indexOf("?")?"?":"&")+o.join("&")+n}function D(e){return"undefined"==typeof e}function W(e,t,n){var i;for(var o in t)t.hasOwnProperty(o)&&(o in e?(i=t[o],"object"==typeof i?W(e[o],i,n):n||(e[o]=t[o])):e[o]=t[o]);return e}function y(){var e=t.body.appendChild(t.createElement("form")),n=e.appendChild(t.createElement("input"));n.name=F+"TEST"+L,C=n!==e.elements[n.name],t.body.removeChild(e)}function G(e){D(C)&&y();var n;C?n=t.createElement('<iframe name="'+e.props.name+'"/>'):(n=t.createElement("IFRAME"),n.name=e.props.name),n.id=n.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(W(n.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var i=e.props.src;if(e.props.src="javascript:false",W(n,e.props),n.border=n.frameBorder=0,n.allowTransparency=!0,e.container.appendChild(n),e.onLoad&&T(n,"load",e.onLoad),e.usePost){var o,a=e.container.appendChild(t.createElement("form"));if(a.target=n.name,a.action=i,a.method="POST","object"==typeof e.usePost)for(var s in e.usePost)e.usePost.hasOwnProperty(s)&&(C?o=t.createElement('<input name="'+s+'"/>'):(o=t.createElement("INPUT"),o.name=s),o.value=e.usePost[s],a.appendChild(o));a.submit(),a.parentNode.removeChild(a)}else n.src=i;return e.props.src=i,n}function b(e,t){"string"==typeof e&&(e=[e]);for(var n,i=e.length;i--;)if(n=e[i],n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(t))return!0;return!1}function S(i){var o,a=i.protocol;if(i.isHost=i.isHost||D(X.xdm_p),A=i.hash||!1,i.props||(i.props={}),i.isHost)i.remote=v(i.remote),i.channel=i.channel||"default"+L++,i.secret=Math.random().toString(16).substring(2),D(a)&&(a=f(n.href)==f(i.remote)?"4":s(e,"postMessage")||s(t,"postMessage")?"1":i.swf&&s(e,"ActiveXObject")&&d()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":i.remoteHelper?"2":"0");else if(i.channel=X.xdm_c.replace(/["'<>\\]/g,""),i.secret=X.xdm_s,i.remote=X.xdm_e.replace(/["'<>\\]/g,""),a=X.xdm_p,i.acl&&!b(i.acl,i.remote))throw new Error("Access denied for "+i.remote);switch(i.protocol=a,a){case"0":if(W(i,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),i.isHost){if(!i.local){for(var r,l=n.protocol+"//"+n.host,c=t.body.getElementsByTagName("img"),m=c.length;m--;)if(r=c[m],r.src.substring(0,l.length)===l){i.local=r.src;break}i.local||(i.local=e)}var u={xdm_c:i.channel,xdm_p:0};i.local===e?(i.usePolling=!0,i.useParent=!0,i.local=n.protocol+"//"+n.host+n.pathname+n.search,u.xdm_e=i.local,u.xdm_pa=1):u.xdm_e=v(i.local),i.container&&(i.useResize=!1,u.xdm_po=1),i.remote=w(i.remote,u)}else W(i,{channel:X.xdm_c,remote:X.xdm_e,useParent:!D(X.xdm_pa),usePolling:!D(X.xdm_po),useResize:i.useParent?!1:i.useResize});o=[new z.stack.HashTransport(i),new z.stack.ReliableBehavior({}),new z.stack.QueueBehavior({encode:!0,maxLength:4e3-i.remote.length}),new z.stack.VerifyBehavior({initiate:i.isHost})];break;case"1":o=[new z.stack.PostMessageTransport(i)];break;case"2":i.isHost&&(i.remoteHelper=v(i.remoteHelper)),o=[new z.stack.NameTransport(i),new z.stack.QueueBehavior,new z.stack.VerifyBehavior({initiate:i.isHost})];break;case"3":o=[new z.stack.NixTransport(i)];break;case"4":o=[new z.stack.SameOriginTransport(i)];break;case"5":o=[new z.stack.FrameElementTransport(i)];break;case"6":E||d(),o=[new z.stack.FlashTransport(i)]}return o.push(new z.stack.QueueBehavior({lazy:i.lazy,remove:!0})),o}function k(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},i=0,o=e.length;o>i;i++)t=e[i],W(t,n,!0),0!==i&&(t.down=e[i-1]),i!==o-1&&(t.up=e[i+1]);return t}function M(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var C,E,x,T,q,P=this,L=Math.floor(1e4*Math.random()),O=Function.prototype,_=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,I=/[\-\w]+\/\.\.\//,N=/([^:])\/\//g,H="",z={},B=e.easyXDM,F="easyXDM_",A=!1;if(s(e,"addEventListener"))T=function(e,t,n){e.addEventListener(t,n,!1)},q=function(e,t,n){e.removeEventListener(t,n,!1)};else{if(!s(e,"attachEvent"))throw new Error("Browser not supported");T=function(e,t,n){e.attachEvent("on"+t,n)},q=function(e,t,n){e.detachEvent("on"+t,n)}}var R,j=!1,U=[];if("readyState"in t?(R=t.readyState,j="complete"==R||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==R||"interactive"==R)):j=!!t.body,!j){if(s(e,"addEventListener"))T(t,"DOMContentLoaded",c);else if(T(t,"readystatechange",function(){"complete"==t.readyState&&c()}),t.documentElement.doScroll&&e===top){var J=function(){if(!j){try{t.documentElement.doScroll("left")}catch(e){return void i(J,1)}c()}};J()}T(e,"load",c)}var X=function(e){e=e.substring(1).split("&");for(var t,n={},i=e.length;i--;)t=e[i].split("="),n[t[0]]=o(t[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),V=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON(),t.a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()})),e.stringify&&e.parse?(V=function(){return e},e):null)};W(z,{version:"2.4.19.3",query:X,stack:{},apply:W,getJSONObject:V,whenReady:m,noConflict:p}),z.DomHelper={on:T,un:q,requiresJSON:function(n){r(e,"JSON")||t.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var e={};z.Fn={set:function(t,n){e[t]=n},get:function(t,n){if(e.hasOwnProperty(t)){var i=e[t];return n&&delete e[t],i}}}}(),z.Socket=function(e){var t=k(S(e).concat([{incoming:function(t,n){e.onMessage(t,n)},callback:function(t){e.onReady&&e.onReady(t)}}])),n=f(e.remote);this.origin=f(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,n)},t.init()},z.Rpc=function(e,t){if(t.local)for(var n in t.local)if(t.local.hasOwnProperty(n)){var i=t.local[n];"function"==typeof i&&(t.local[n]={method:i})}var o=k(S(e).concat([new z.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=f(e.remote),this.destroy=function(){o.destroy()},o.init()},z.stack.SameOriginTransport=function(e){var t,o,a,s;return t={outgoing:function(e,t,n){a(e),n&&n()},destroy:function(){o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){s=f(e.remote),e.isHost?(W(e.props,{src:w(e.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:e.channel,xdm_p:4}),name:F+e.channel+"_provider"}),o=G(e),z.Fn.set(e.channel,function(e){return a=e,i(function(){t.up.callback(!0)},0),function(e){t.up.incoming(e,s)}})):(a=u().Fn.get(e.channel,!0)(function(e){t.up.incoming(e,s)}),i(function(){t.up.callback(!0)},0))},init:function(){m(t.onDOMReady,t)}}},z.stack.FlashTransport=function(e){function o(e,t){i(function(){r.up.incoming(e,d)},0)}function s(n){var i=e.swf+"?host="+e.isHost,o="easyXDM_swf_"+Math.floor(1e4*Math.random());z.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){z.stack.FlashTransport[n].swf=c=u.firstChild;for(var e=z.stack.FlashTransport[n].queue,t=0;t<e.length;t++)e[t]();e.length=0}),e.swfContainer?u="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(u=t.createElement("div"),W(u.style,x&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(u));var s="callback=flash_loaded"+a(n.replace(/[\-.]/g,"_"))+"&proto="+P.location.protocol+"&domain="+a(g(P.location.href))+"&port="+a(h(P.location.href))+"&ns="+a(H);u.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+o+"' data='"+i+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+i+"'></param><param name='flashvars' value='"+s+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+s+"' allowScriptAccess='always' wmode='transparent' src='"+i+"' height='1' width='1'></embed></object>"}var r,l,d,c,u;return r={outgoing:function(t,n,i){c.postMessage(e.channel,t.toString()),i&&i()},destroy:function(){try{c.destroyChannel(e.channel)}catch(t){}c=null,l&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){d=e.remote,z.Fn.set("flash_"+e.channel+"_init",function(){i(function(){r.up.callback(!0)})}),z.Fn.set("flash_"+e.channel+"_onMessage",o),e.swf=v(e.swf);var t=g(e.swf),a=function(){z.stack.FlashTransport[t].init=!0,c=z.stack.FlashTransport[t].swf,c.createChannel(e.channel,e.secret,f(e.remote),e.isHost),e.isHost&&(x&&e.swfNoThrottle&&W(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),W(e.props,{src:w(e.remote,{xdm_e:f(n.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:F+e.channel+"_provider"}),l=G(e))};z.stack.FlashTransport[t]&&z.stack.FlashTransport[t].init?a():z.stack.FlashTransport[t]?z.stack.FlashTransport[t].queue.push(a):(z.stack.FlashTransport[t]={queue:[a]},s(t))},init:function(){m(r.onDOMReady,r)}}},z.stack.PostMessageTransport=function(t){function o(e){if(e.origin)return f(e.origin);if(e.uri)return f(e.uri);if(e.domain)return n.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function a(e){var n=o(e);n==d&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&s.up.incoming(e.data.substring(t.channel.length+1),n)}var s,r,l,d;return s={outgoing:function(e,n,i){l.postMessage(t.channel+" "+e,n||d),i&&i()},destroy:function(){q(e,"message",a),r&&(l=null,r.parentNode.removeChild(r),r=null)},onDOMReady:function(){if(d=f(t.remote),t.isHost){var o=function(n){n.data==t.channel+"-ready"&&(l="postMessage"in r.contentWindow?r.contentWindow:r.contentWindow.document,q(e,"message",o),T(e,"message",a),i(function(){s.up.callback(!0)},0))};T(e,"message",o),W(t.props,{src:w(t.remote,{xdm_e:f(n.href),xdm_c:t.channel,xdm_p:1}),name:F+t.channel+"_provider"}),r=G(t)}else T(e,"message",a),l="postMessage"in e.parent?e.parent:e.parent.document,l.postMessage(t.channel+"-ready",d),i(function(){s.up.callback(!0)},0)},init:function(){m(s.onDOMReady,s)}}},z.stack.FrameElementTransport=function(o){var a,s,r,l;return a={outgoing:function(e,t,n){r.call(this,e),n&&n()},destroy:function(){s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){l=f(o.remote),o.isHost?(W(o.props,{src:w(o.remote,{xdm_e:f(n.href),xdm_c:o.channel,xdm_p:5}),name:F+o.channel+"_provider"}),s=G(o),s.fn=function(e){return delete s.fn,r=e,i(function(){a.up.callback(!0)},0),function(e){a.up.incoming(e,l)}}):(t.referrer&&f(t.referrer)!=X.xdm_e&&(e.top.location=X.xdm_e),r=e.frameElement.fn(function(e){a.up.incoming(e,l)}),a.up.callback(!0))},init:function(){m(a.onDOMReady,a)}}},z.stack.NameTransport=function(e){function t(t){var n=e.remoteHelper+(r?"#_3":"#_2")+e.channel;l.contentWindow.sendMessage(t,n)}function n(){r?2!==++c&&r||s.up.callback(!0):(t("ready"),s.up.callback(!0))}function o(e){s.up.incoming(e,p)}function a(){u&&i(function(){u(!0)},0)}var s,r,l,d,c,u,p,g;return s={outgoing:function(e,n,i){u=i,t(e)},destroy:function(){l.parentNode.removeChild(l),l=null,r&&(d.parentNode.removeChild(d),d=null)},onDOMReady:function(){r=e.isHost,c=0,p=f(e.remote),e.local=v(e.local),r?(z.Fn.set(e.channel,function(t){r&&"ready"===t&&(z.Fn.set(e.channel,o),n())}),g=w(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),W(e.props,{src:g+"#"+e.channel,name:F+e.channel+"_provider"}),d=G(e)):(e.remoteHelper=e.remote,z.Fn.set(e.channel,o));var t=function(){var o=l||this;q(o,"load",t),z.Fn.set(e.channel+"_load",a),function s(){"function"==typeof o.contentWindow.sendMessage?n():i(s,50)}()};l=G({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){m(s.onDOMReady,s)}}},z.stack.HashTransport=function(t){function n(e){if(h){var n=t.remote+"#"+p++ +"_"+e;(l||!v?h.contentWindow:h).location=n}}function o(e){u=e,r.up.incoming(u.substring(u.indexOf("_")+1),w)}function a(){if(g){var e=g.location.href,t="",n=e.indexOf("#");-1!=n&&(t=e.substring(n)),t&&t!=u&&o(t)}}function s(){d=setInterval(a,c)}var r,l,d,c,u,p,g,h,v,w;return r={outgoing:function(e,t){n(e)},destroy:function(){e.clearInterval(d),!l&&v||h.parentNode.removeChild(h),h=null},onDOMReady:function(){if(l=t.isHost,c=t.interval,u="#"+t.channel,p=0,v=t.useParent,w=f(t.remote),l){if(W(t.props,{src:t.remote,name:F+t.channel+"_provider"}),v)t.onLoad=function(){g=e,s(),r.up.callback(!0)};else{var n=0,o=t.delay/50;!function a(){if(++n>o)throw new Error("Unable to reference listenerwindow");try{g=h.contentWindow.frames[F+t.channel+"_consumer"]}catch(e){}g?(s(),r.up.callback(!0)):i(a,50)}()}h=G(t)}else g=e,s(),v?(h=parent,r.up.callback(!0)):(W(t,{props:{src:t.remote+"#"+t.channel+new Date,name:F+t.channel+"_consumer"},onLoad:function(){r.up.callback(!0)}}),h=G(t))},init:function(){m(r.onDOMReady,r)}}},z.stack.ReliableBehavior=function(e){var t,n,i=0,o=0,a="";return t={incoming:function(e,s){var r=e.indexOf("_"),l=e.substring(0,r).split(",");e=e.substring(r+1),l[0]==i&&(a="",n&&n(!0)),e.length>0&&(t.down.outgoing(l[1]+","+i+"_"+a,s),o!=l[1]&&(o=l[1],t.up.incoming(e,s)))},outgoing:function(e,s,r){a=e,n=r,t.down.outgoing(o+","+ ++i+"_"+e,s)}}},z.stack.QueueBehavior=function(e){function t(){if(e.remove&&0===r.length)return void M(n);if(!l&&0!==r.length&&!s){l=!0;var o=r.shift();n.down.outgoing(o.data,o.origin,function(e){l=!1,o.callback&&i(function(){o.callback(e)},0),t()})}}var n,s,r=[],l=!0,d="",c=0,m=!1,u=!1;return n={init:function(){D(e)&&(e={}),e.maxLength&&(c=e.maxLength,u=!0),e.lazy?m=!0:n.down.init()},callback:function(e){l=!1;var i=n.up;t(),i.callback(e)},incoming:function(t,i){if(u){var a=t.indexOf("_"),s=parseInt(t.substring(0,a),10);d+=t.substring(a+1),0===s&&(e.encode&&(d=o(d)),n.up.incoming(d,i),d="")}else n.up.incoming(t,i)},outgoing:function(i,o,s){e.encode&&(i=a(i));var l,d=[];if(u){for(;0!==i.length;)l=i.substring(0,c),i=i.substring(l.length),d.push(l);for(;l=d.shift();)r.push({data:d.length+"_"+l,origin:o,callback:0===d.length?s:null})}else r.push({data:i,origin:o,callback:s});m?n.down.init():t()},destroy:function(){s=!0,n.down.destroy()}}},z.stack.VerifyBehavior=function(e){function t(){i=Math.random().toString(16).substring(2),n.down.outgoing(i)}var n,i,o;return n={incoming:function(a,s){var r=a.indexOf("_");-1===r?a===i?n.up.callback(!0):o||(o=a,e.initiate||t(),n.down.outgoing(a)):a.substring(0,r)===o&&n.up.incoming(a.substring(r+1),s)},outgoing:function(e,t,o){n.down.outgoing(i+"_"+e,t,o)},callback:function(n){e.initiate&&t()}}},z.stack.RpcBehavior=function(e,t){function n(e){e.jsonrpc="2.0",a.down.outgoing(s.stringify(e))}function i(e,t){var i=Array.prototype.slice;return function(){var o,a=arguments.length,s={method:t};a>0&&"function"==typeof arguments[a-1]?(a>1&&"function"==typeof arguments[a-2]?(o={success:arguments[a-2],error:arguments[a-1]},s.params=i.call(arguments,0,a-2)):(o={success:arguments[a-1]},s.params=i.call(arguments,0,a-1)),d[""+ ++r]=o,s.id=r):s.params=i.call(arguments,0),e.namedParams&&1===s.params.length&&(s.params=s.params[0]),n(s)}}function o(e,t,i,o){if(!i)return void(t&&n({id:t,error:{code:-32601,message:"Procedure not found."}}));var a,s;t?(a=function(e){a=O,n({id:t,result:e})},s=function(e,i){s=O;var o={id:t,error:{code:-32099,message:e}};i&&(o.error.data=i),n(o)}):a=s=O,l(o)||(o=[o]);try{var r=i.method.apply(i.scope,o.concat([a,s]));D(r)||a(r)}catch(d){s(d.message)}}var a,s=t.serializer||V(),r=0,d={};return a={incoming:function(e,i){var a=s.parse(e);if(a.method)t.handle?t.handle(a,n):o(a.method,a.id,t.local[a.method],a.params);else{var r=d[a.id];a.error?r.error&&r.error(a.error):r.success&&r.success(a.result),delete d[a.id]}},init:function(){if(t.remote)for(var n in t.remote)t.remote.hasOwnProperty(n)&&(e[n]=i(t.remote[n],n));a.down.init()},destroy:function(){for(var n in t.remote)t.remote.hasOwnProperty(n)&&e.hasOwnProperty(n)&&delete e[n];a.down.destroy()}}},P.easyXDM=z}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),function(e,t){"use strict";function n(e,a){return this instanceof n?(o.isDOM(e)?this.container=e:this.container=t.querySelector(e),this.settings=o.merge(i,a),this.slider=this.container.children[0],this.items=this.slider.children,this.containerWidth=this.container.offsetWidth,this.containerHeight=this.container.offsetHeight,this.itemWidth=this.items[0].offsetWidth,this.itemHeight=this.items[0].offsetHeight,this.itemMargin=0,"vertical"===this.settings.direction?(this.containerDimension=this.containerHeight,this.itemDimension=this.itemHeight):(this.containerDimension=this.containerWidth,this.itemDimension=this.itemWidth),this.settings.visibles>1&&this.settings.justify&&this.justifyItems(),void((this.settings.controlNext||this.settings.controlPrev)&&this.addControls(this.settings.controlNext,this.settings.controlPrev,this.settings.steps))):new n(e,a)}var i={visibles:1,direction:"horizontal",controlPrev:"",controlNext:"",justify:!0,steps:1,dots:"",touch:!0,animation:"slide",autoPlay:1e3,infinite:!0},o={isDOM:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},merge:function(e,t){var n={};for(var i in e)t.hasOwnProperty(i)?n[i]=t[i]:n[i]=e[i];return n},each:function(e,t){for(var n=0,i=e.length;i>n;n+=1)t.call(e[n],n)}};n.fn=n.prototype,n.fn.justifyItems=function(){var e,t=this.settings.visibles,n=this.items,i=this.settings.direction;e=(this.containerDimension-this.itemDimension*t)/(t-1),e=Math.ceil(e),this.itemMargin=e,o.each(n,function(){this.style["vertical"===i?"marginBottom":"marginRight"]=e+"px"})},n.getLimit=function(e,t){var n=e.settings,i=n.direction,o=e.itemDimension,a=e.itemMargin,s=n.visibles,r=e.items;return"vertical"===i&&"max"===t?0:"vertical"===i&&"min"===t?-1*((o+a)*(r.length-s+1)-a):"horizontal"===i&&"max"===t?(o+a)*(r.length-s+1)-a:"horizontal"===i&&"min"===t?0:void 0},n.fn.isAtLimit=function(e){var t=n.getLimit(this,"max"),i=n.getLimit(this,"min");return i>e?!0:e>t},n.fn.getNextPos=function(e){var t,n,i;return n=this.settings.direction,t=this.slider.style["vertical"===n?"top":"right"],t&&(t=Math.floor(parseInt(t))),i="vertical"===n?t-(this.itemDimension+this.itemMargin)*e:t+(this.itemDimension+this.itemMargin)*e,Math.ceil(i)},n.fn.move=function(e){e=e||1;var t=this.getNextPos(e),n=this.settings.direction;return this.isAtLimit(t)?this:void(this.slider.style["vertical"===n?"top":"right"]=t+"px")},n.fn.addControls=function(e,n,i){var a=this;o.isDOM(e)||(e=t.querySelector(e)),o.isDOM(n)||(n=t.querySelector(n)),e.addEventListener("click",function(e){e.preventDefault(),a.move(i)}),n.addEventListener("click",function(e){e.preventDefault(),a.move(-1*i)})},e.Slider=n}(window,document),DGW.global.api.easyXDM=easyXDM.noConflict("DGW.global.api"),DGW.global.api.rpc=new DGW.global.api.easyXDM.Rpc({remote:"http://spr-api-test.cloudapp.net/tunnel.html"},{remote:{apiTunnel:{}}}),DGW.global.api.generic=function(e,t,n){var i,o={},a="",s="";switch(n=n||"",e){case"signUp":a="POST",s="auth/signup",n=JSON.stringify(n);break;case"signIn":a="POST",s="auth/login",n=JSON.stringify(n);break;case"signOut":a="POST",s="auth/logout";break;case"facebookLogIn":a="POST",s="auth/facebookconnect",n=JSON.stringify(n);break;case"getUser":a="GET",s="user/getuser";break;case"getDraws":a="GET",s="draw/getdraws";break;case"getDrawEntries":a="GET",s="draw/getdrawentries";break;case"drawBet":a="POST",s="draw/bet",n=JSON.stringify(n);case"claimPrize":a="POST",s="draw/claimprize",n=JSON.stringify(n)}DGW.global.api.rpc.apiTunnel({apiKey:DGW.global.api.apiKey,method:a,endpoint:s,params:n},function(e){e.error?o.error=e.error:null!==e.data?o.data=e.data:void 0!==o&&(o=null)},function(e){console.error(e.message)}),i=setInterval(function(){null===o||void 0===o?(clearInterval(i),console.log("no data"),t(o)):Object.keys(o).length>0?(clearInterval(i),t(o)):console.log("retrieving data")},500)},DGW.global.api.requests.signUp=function(e){DGW.global.api.generic("signUp",function(e){e.error?(DGW.global.authorized=!1,console.error(e.error)):(console.info(e.data),DGW.global.authorized=!0,DGW.global.methods.authorize(),DGW.global.methods.profileSetData(e.data))},{Username:e.Username,Email:e.Email,Password:e.Password})},DGW.global.api.requests.signIn=function(e){DGW.global.api.generic("signIn",function(e){e.error?(DGW.global.authorized=!1,console.error(e.error)):(console.info(e.data),DGW.global.methods.authorize(),DGW.global.methods.profileSetData(e.data),DGW.global.authorized=!0)},{Email:e.Email,Password:e.Password})},DGW.global.api.requests.signOut=function(){DGW.global.api.generic("signOut",function(e){console.info("Signed out"),DGW.global.authorized=!1,DGW.global.methods.unAuthorize()})},DGW.global.api.requests.getUser=function(){DGW.global.api.generic("getUser",function(e){e.error?(DGW.global.authorized=!1,console.error(e.error)):(console.info(e.data),DGW.global.authorized===!1&&(DGW.global.authorized=!0,DGW.global.methods.authorize(),DGW.global.methods.profileSetData(e.data))),DGW.global.launched||(DGW.side.methods.showWidget(),DGW.global.launched=!0)})},function(){window.fbAsyncInit=function(){FB.init({appId:"614550048660888",cookie:!0,xfbml:!0,version:"v2.2"})},function(e,t,n){var i,o=e.getElementsByTagName(t)[0];e.getElementById(n)||(i=e.createElement(t),i.id=n,i.src="//connect.facebook.net/en_US/sdk.js",o.parentNode.insertBefore(i,o))}(document,"script","facebook-jssdk")}(),DGW.global.api.requests.fbConnect=function(){FB.login(function(e){"connected"===e.status?DGW.global.api.generic("facebookLogIn",function(e){e.error?console.error(e.error):console.info(e.data)},{AccessToken:e.authResponse.accessToken,ExpiresIn:e.authResponse.expiresIn}):"not_authorized"===e.status},{scope:"email"})},DGW.global.api.requests.getDraws=function(){DGW.main.methods.loadingStarted(),DGW.global.api.generic("getDraws",function(e){e.error?console.error(e.error):(console.info(e.data),DGW.main.cache.drawsList=e.data.Draws,1==DGW.global.authorized?DGW.global.api.requests.getDrawEntries():(DGW.main.methods.drawsConstructor(DGW.main.cache),DGW.main.methods.loadingFinished()))})},DGW.global.api.requests.getDrawEntries=function(){DGW.global.api.generic("getDrawEntries",function(e){e.error?console.error(e.error):(console.info(e.data),DGW.main.cache.drawsEntries=e.data.DrawEntries,DGW.main.methods.drawsConstructor(DGW.main.cache),DGW.main.methods.loadingFinished())})},DGW.global.api.requests.drawBet=function(e,t){DGW.global.api.generic("drawBet",function(e){e.error?console.error(e.error):(console.log(e),DGW.main.methods.updateUserInfoBet(e.data.DrawEntry,e.data.User))},{DrawId:e,PointsAmount:t})},DGW.global.api.requests.claimPrize=function(e,t,n){DGW.global.api.generic("claimPrize",function(e){e.error?console.error(e.error):DGW.helpers.addClass(n,"claimed")},{DrawId:e,Address1:t})},DGW.helpers.addClass=function(e,t){new RegExp(t).test(e.className)||(0===e.className.length?e.className+=t:e.className+=" "+t)},DGW.helpers.removeClass=function(e,t){e.className=e.className.replace(new RegExp(t),"").trim()},DGW.helpers.toggleClass=function(e,t){new RegExp(t).test(e.className)?DGW.helpers.removeClass(e,t):DGW.helpers.addClass(e,t)},DGW.helpers.hasClass=function(e,t){return new RegExp(t).test(e.className)},DGW.helpers.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)};DGW.helpers.drawsTimerConstr=function(e){function t(e){var t=new Date(e.dt),n=new Date;return t-n>0}function n(){i.forEach(function(e){var t=new Date(e.dt),n=new Date,i=t-n,o=Math.floor(i/l),d=Math.floor(i%l/r),c=Math.floor(i%r/s),m=Math.floor(i%s/a);0>i?e.elem.innerHTML="Draw has finished":(e.elem.innerHTML=o+"d ",e.elem.innerHTML+=d+"h ",e.elem.innerHTML+=c+"m ",e.elem.innerHTML+=m+"s")})}var i,o,a=1e3,s=60*a,r=60*s,l=24*r;this.setDraws=function(e){DGW.helpers.isArray(e)&&(i=e.filter(function(e){return t(e)}))},this.push=function(e){return e.elem&&e.dt?t(e)?(i.push(e),!0):!1:void 0},this.start=function(){n(),o=window.setInterval(n,1e3)},this.stop=function(){window.clearInterval(o)},this.setDraws(e),this.start()},DGW.helpers.drawsTimer=new DGW.helpers.drawsTimerConstr([]),DGW.templates.sideWidgetCore='<div id="dg-side-widget-wrapper"><div class="dg-side-widget-body"></div></div>',DGW.templates.mainWidgetCore='<div id="dg-o-w-wrapper"><div class="dg-o-w-overlay"><div class="dg-o-w-body"><div class="dg-o-w-header"><div class="dg-o-w-logo"><img src="./imgs/everton-logo.jpg" alt="Club Logo" /></div><div class="dg-o-w-menu"><ul><li class="earn-menu-item">Earn</li><li class="draws-menu-item">Draws & Games</li><li class="activities-menu-item">Activities</li></ul></div><div class="dg-o-w-menu-profile"><div class="profile-menu-item"><img src="http://lorempixel.com/100/100/cats" /><div class="profile-menu-unauthorized"><div><h4>Hello, guest!</h4><div class="dg-o-w-login-dropdown"><a href="#">Log in by email</a><div class="dg-o-w-email-login-form"><form id="dg-o-w-form-login-top"><label>Email <input type="email" placeholder="mail@mail.com" /></label><label>Password <input type="password" /></label><input type="submit" value="Sign In" /><a href="#" class="">Forgot your password?</a></form></div></div></div></div><div class="profile-menu-authorized"><div><h4>Hello, Paul!</h4><p><span id="dg-o-w-points">25</span> | <span id="dg-o-w-credits">115.25</span></p></div></div></div></div></div><div class="dg-o-w-content"><div class="dg-o-w-section"><section></section><footer class="dg-o-w-footer-login"><div class="footer-section footer-section-step-1"><div class="inline-part"><h3>Log in with Facebook and get +10 points</h3></div><div class="inline-part"><a href="#" class="btn-radius btn-large btn-brand">Facebook</a></div><div class="inline-part"><p>or</p></div><div class="inline-part"><a id="dg-o-w-footer-email-login" href="#" class="btn-radius btn-large btn-white">Sign up with email</a></div></div><div class="footer-section footer-section-step-2"><a id="dg-o-w-footer-login-select" href="#" class="btn-back-footer">&larr; Back</a><form id="dg-o-w-footer-signup-email"><div class="inline-part"><label>Name <input type="text" placeholder="First Name" /></label></div><div class="inline-part"><label>Email <input type="email" placeholder="mail@mail.com" /></label></div><div class="inline-part"><label>&nbsp; <input class="btn-dg-o-w-outline" type="submit" value="Submit" /></label></div></form></div><div class="footer-section footer-section-step-3"><a id="dg-o-w-footer-login-select-2" href="#" class="btn-back-footer">&larr; Back</a><form id="dg-o-w-footer-signup-pass"><div class="inline-part"><label>Password <input type="password" /></label></div><div class="inline-part"><label>&nbsp; <input class="btn-dg-o-w-outline" type="submit" value="Sign Up" /></label></div></form></div></footer></div></div><div class="dg-o-w-close">&times;</div><div class="dg-o-w-spinner"></div></div></div></div>',DGW.templates.earnMain='<div class="dg-o-w-submenu"><ul><li class="dg-o-w-active">All</li><li>Share</li><li>Watch</li><li>Visit</li><li>Download</li><li>Invite</li></ul><select><option>All sponsors</option><option>Coca-Cola</option><option>Nike</option><option>Telco</option></select></div><div class="dg-o-w-section-content"><h3>Complete the tasks and earn +500 points today</h3><ul class="dg-o-w-list-offers"><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul></div>',DGW.templates.drawsMain='<div class="dg-o-w-submenu"><ul><li class="dg-o-w-active">All draws</li><li>Finished soon</li><li>My draws</li><li>Games</li></ul><label class="checkbox-slider">Show finished draws <input id="dg-o-w-show-expired" type="checkbox" class="ios-switch bigswitch" /><div><div></div></div></label></div><div class="dg-o-w-section-content"><h3>Available draws</h3><ul class="dg-o-w-list-draws"></ul></div>',DGW.templates.profileMain='<div class="dg-o-w-profile"><div class="dg-o-w-left-side"><div class="dg-o-w-image-holder"><img id="profileImage" src="http://lorempixel.com/500/500/cats" /></div><p><span id="profileFriendsAmount">15</span> friends</p></div><div class="dg-o-w-right-side"><div class="dg-o-w-profile-top"><div class="dg-o-w-float-left"><h3 id="profileName">Captain Deadpool</h3><h5>2 badges</h5></div><div class="dg-o-w-float-right"><div class="dg-o-w-profile-points"><h3>115</h3><h5>20</h5></div><div class="dg-o-w-profile-credits"><h3>215.20</h3><h5>25.15</h5></div></div></div><div class="dg-o-w-profile-earnings-info"><p class="color-brand-light">Today earned: <span>15</span> pts | left: <span>5</span>pts</p><p>Get +10 additional points by adding your other accounts from <a href="#" class="facebook">f</a> and <a href="#" class="twitter">t</a></p></div><div class="dg-o-w-profile-progress"><div style="width:35%;"></div></div><div class="dg-o-w-profile-bottom"><div class="dg-o-w-profile-invite dg-o-w-float-left"><p class="color-brand-light"><a href="#" class="btn-dg-o-w-outline">Invite more friends</a> and get <span>+50</span> points for each friend</p></div><div class="dg-o-w-profile-signout dg-o-w-float-right"><p class="color-brand-light"><a id="dg-o-w-sign-out-btn" href="#">Sign out</a></p></div></div></div></div><div class="dg-o-w-section-content content-static"><h3>Badges</h3><div class="dg-o-w-badges-holder"><ul></ul></div></div>',DGW.templates.loginMain='<div class="dg-o-w-login"><div class="dg-o-w-left-side"><div class="dg-o-w-image-holder"><img src="./imgs/kevin-mirallas.png" /></div></div><div class="dg-o-w-right-side"><h1>Win exclusive prizes handling simple tasks</h1><a href="#" class="btn-radius btn-large btn-brand-3d">Join now</a><div class="dg-o-w-login-winners"><img src="http://lorempixel.com/100/100/cats" /><div><h4>Daniel won a signed t-shirt!</h4><h5>Sign up and get your own prize now</h5></div></div></div></div>',
DGW.templates.activitiesMain='<div class="dg-o-w-submenu"><ul><li class="toggle-section-height"><div></div></li><li class="dg-o-w-active">Leaderboard</li></ul></div><div class="dg-o-w-activities"><div class="dg-o-w-activity-slider-holder"><div class="dg-o-w-activity-slider-controls"><div class="dg-o-w-activity-slider-prev"><</div><div class="dg-o-w-activity-slider-next">></div></div><div class="dg-o-w-activity-slider"><ul></ul></div></div></div><div class="dg-o-w-section-content"><div class="dg-o-w-activities-header"><p class="dg-o-w-float-left">Activities for today</p><p class="dg-o-w-floating-link"><a href="#">Invite more friends</a> and get +50 points for each</p><select class="dg-o-w-float-right"><option>All activities</option></select></div><div class="dg-o-w-activities-holder"><ul></ul></div></div>',DGW.global.elements.documentBody=document.body,DGW.side.elements.widget=document.createElement("div"),DGW.side.elements.widget.id="dg-side-widget",DGW.side.elements.widget.innerHTML=DGW.templates.sideWidgetCore,DGW.main.elements.widget=document.createElement("div"),DGW.main.elements.widget.id="dg-o-w",DGW.main.elements.widget.innerHTML=DGW.templates.mainWidgetCore,DGW.main.elements.widgetBody=DGW.main.elements.widget.querySelector(".dg-o-w-body"),DGW.main.elements.menuItems={earn:DGW.main.elements.widget.querySelector(".dg-o-w-menu .earn-menu-item"),draws:DGW.main.elements.widget.querySelector(".dg-o-w-menu .draws-menu-item"),activities:DGW.main.elements.widget.querySelector(".dg-o-w-menu .activities-menu-item"),profile:DGW.main.elements.widget.querySelector(".dg-o-w-menu-profile .profile-menu-item img")},DGW.main.elements.widgetContent=DGW.main.elements.widget.querySelector(".dg-o-w-content .dg-o-w-section section"),DGW.main.elements.loginFooter=DGW.main.elements.widget.querySelector(".dg-o-w-footer-login"),DGW.main.elements.loginMenuButton=DGW.main.elements.widget.querySelector(".dg-o-w-login-dropdown a"),DGW.main.elements.pages.earnMain=document.createElement("div"),DGW.main.elements.pages.earnMain.innerHTML=DGW.templates.earnMain,DGW.main.elements.pages.drawsMain=document.createElement("div"),DGW.main.elements.pages.drawsMain.innerHTML=DGW.templates.drawsMain,DGW.main.elements.pages.activitiesMain=document.createElement("div"),DGW.main.elements.pages.activitiesMain.innerHTML=DGW.templates.activitiesMain,DGW.main.elements.pages.profileMain=document.createElement("div"),DGW.main.elements.pages.profileMain.innerHTML=DGW.templates.profileMain,DGW.main.elements.pages.loginMain=document.createElement("div"),DGW.main.elements.pages.loginMain.innerHTML=DGW.templates.loginMain,DGW.main.elements.pages.singleDraw=document.createElement("div"),DGW.main.elements.activitiesSliderParent=DGW.main.elements.pages.activitiesMain.querySelector(".dg-o-w-activities"),DGW.main.methods.showWidget=function(){DGW.helpers.removeClass(DGW.main.elements.widget,"hiding"),DGW.global.elements.documentBody.appendChild(DGW.main.elements.widget),DGW.main.methods.changeMainState(DGW.main.currentState)},DGW.main.methods.hideWidget=function(){DGW.helpers.addClass(DGW.main.elements.widget,"hiding"),setTimeout(function(){DGW.global.elements.documentBody.removeChild(DGW.main.elements.widget)},310)},DGW.main.methods.changeMainState=function(e){for(item in DGW.main.elements.menuItems)DGW.helpers.removeClass(DGW.main.elements.menuItems[item],"dg-o-w-active"),DGW.helpers.removeClass(DGW.main.elements.menuItems.profile.parentNode,"dg-o-w-active"),item===e&&("profile"===e?DGW.helpers.addClass(DGW.main.elements.menuItems[item].parentNode,"dg-o-w-active"):DGW.helpers.addClass(DGW.main.elements.menuItems[item],"dg-o-w-active"));switch(DGW.main.elements.widgetContent.children.length>0&&DGW.main.elements.widgetContent.removeChild(DGW.main.elements.widgetContent.childNodes[0]),"draws"!==DGW.main.currentState&&DGW.helpers.drawsTimer.setDraws([]),DGW.helpers.removeClass(DGW.main.elements.widgetBody,"profile-anon"),e){case"earn":DGW.main.elements.widgetContent.appendChild(DGW.main.elements.pages.earnMain);break;case"draws":"draws"!==DGW.main.currentState&&DGW.global.api.requests.getDraws(),DGW.main.elements.widgetContent.appendChild(DGW.main.elements.pages.drawsMain);break;case"activities":DGW.main.elements.widgetContent.appendChild(DGW.main.elements.pages.activitiesMain);break;case"profile":DGW.global.authorized?DGW.main.elements.widgetContent.appendChild(DGW.main.elements.pages.profileMain):(DGW.helpers.addClass(DGW.main.elements.widgetBody,"profile-anon"),DGW.main.elements.widgetContent.appendChild(DGW.main.elements.pages.loginMain))}DGW.main.currentState=e,DGW.main.methods.checkSectionHeight()},DGW.main.methods.loadingStarted=function(){DGW.helpers.addClass(DGW.main.elements.widgetBody,"loading")},DGW.main.methods.loadingFinished=function(){DGW.helpers.removeClass(DGW.main.elements.widgetBody,"loading")},DGW.side.methods.showWidget=function(){DGW.global.elements.documentBody.appendChild(DGW.side.elements.widget)},DGW.side.methods.hideWidget=function(){DGW.global.elements.documentBody.removeChild(DGW.side.elements.widget)},DGW.global.methods.init=function(){DGW.side.elements.widget.addEventListener("click",function(){DGW.main.methods.showWidget()}),DGW.main.elements.widget.querySelector(".dg-o-w-close").addEventListener("click",function(){DGW.main.methods.hideWidget()}),DGW.main.methods.addPageEvents();for(item in DGW.main.elements.menuItems)DGW.main.elements.menuItems[item].addEventListener("click",function(e){return function(){DGW.main.methods.changeMainState(e)}}(item));DGW.global.api.requests.getUser()},DGW.global.methods.authorize=function(){DGW.helpers.addClass(DGW.main.elements.widgetBody,"authorized"),DGW.global.authorized=!0,"profile"===DGW.main.currentState?DGW.main.methods.changeMainState("profile"):"draws"===DGW.main.currentState&&DGW.global.api.requests.getDraws()},DGW.global.methods.unAuthorize=function(){DGW.helpers.removeClass(DGW.main.elements.widgetBody,"authorized"),DGW.global.authorized=!1,"profile"===DGW.main.currentState&&DGW.main.methods.changeMainState("profile")},DGW.main.methods.checkSectionHeight=function(){var e=DGW.main.elements.widgetBody.querySelector(".dg-o-w-section"),t=DGW.main.elements.widgetBody.querySelector(".dg-o-w-section-content");e.querySelector(".dg-o-w-submenu")&&(DGW.helpers.addClass(t,"dg-o-w-submenu-only"),DGW.helpers.removeClass(t,"dg-o-w-submenu-activities"),e.querySelector(".dg-o-w-activity-slider-holder")&&!DGW.helpers.hasClass(e.querySelector(".dg-o-w-activities"),"collapsed")&&(DGW.helpers.addClass(t,"dg-o-w-submenu-activities"),DGW.helpers.removeClass(t,"dg-o-w-submenu-only")))},DGW.main.methods.addPageEvents=function(){DGW.main.elements.loginMenuButton.addEventListener("click",function(e){e.preventDefault();var t=this,n=t.parentNode.querySelector(".dg-o-w-email-login-form");DGW.helpers.hasClass(t.parentNode,"shown")?(DGW.helpers.removeClass(t.parentNode,"shown"),setTimeout(function(){DGW.helpers.removeClass(n,"visible")},310)):(DGW.helpers.addClass(n,"visible"),setTimeout(function(){DGW.helpers.addClass(t.parentNode,"shown")},0))}),DGW.main.elements.widgetBody.querySelector("#dg-o-w-form-login-top").addEventListener("submit",function(e){e.preventDefault();var t=this.querySelector("[type=email]").value,n=this.querySelector("[type=password]").value;""!=t&&""!=n&&n.length>5&&DGW.global.api.requests.signIn({Email:t,Password:n})}),DGW.main.elements.pages.activitiesMain.querySelector(".toggle-section-height").addEventListener("click",function(){DGW.helpers.hasClass(this,"collapsed")?(DGW.helpers.removeClass(DGW.main.elements.activitiesSliderParent,"collapsed"),DGW.helpers.removeClass(this,"collapsed")):(DGW.helpers.addClass(DGW.main.elements.activitiesSliderParent,"collapsed"),DGW.helpers.addClass(this,"collapsed")),DGW.main.methods.checkSectionHeight()}),DGW.main.elements.loginFooter.querySelector("#dg-o-w-footer-email-login").addEventListener("click",function(e){e.preventDefault(),DGW.helpers.addClass(DGW.main.elements.loginFooter,"email-sign-up")}),DGW.main.elements.loginFooter.querySelector("#dg-o-w-footer-login-select").addEventListener("click",function(e){e.preventDefault(),DGW.helpers.removeClass(DGW.main.elements.loginFooter,"email-sign-up")}),DGW.main.elements.loginFooter.querySelector("#dg-o-w-footer-login-select-2").addEventListener("click",function(e){e.preventDefault(),DGW.helpers.removeClass(DGW.main.elements.loginFooter,"password")}),function(){var e={};DGW.main.elements.loginFooter.querySelector("#dg-o-w-footer-signup-email").addEventListener("submit",function(){var t=this.querySelector("[type=text]").value,n=this.querySelector("[type=email]").value;""!=t&&""!=n&&(e.Username=t,e.Email=n,DGW.helpers.addClass(DGW.main.elements.loginFooter,"password"))}),DGW.main.elements.loginFooter.querySelector("#dg-o-w-footer-signup-pass").addEventListener("submit",function(){var t=this.querySelector("[type=password]").value;""!=t&&t.length>=5&&(e.Password=t,DGW.global.api.requests.signUp(e),DGW.helpers.removeClass(DGW.main.elements.loginFooter,"email-sign-up"),DGW.helpers.removeClass(DGW.main.elements.loginFooter,"password"))})}(),DGW.main.elements.pages.drawsMain.querySelector("#dg-o-w-show-expired").addEventListener("change",function(e){this.checked?DGW.helpers.addClass(DGW.main.elements.widgetBody,"draws-expired"):DGW.helpers.removeClass(DGW.main.elements.widgetBody,"draws-expired")}),DGW.main.elements.pages.profileMain.querySelector("#dg-o-w-sign-out-btn").addEventListener("click",function(e){e.preventDefault(),DGW.global.api.requests.signOut()})},DGW.global.methods.profileSetData=function(e){var t=[DGW.main.elements.widgetBody.querySelector(".dg-o-w-menu-profile .profile-menu-item img"),DGW.main.elements.pages.profileMain.querySelector("#profileImage")],n=[DGW.main.elements.widgetBody.querySelector(".dg-o-w-menu-profile .profile-menu-authorized h4"),DGW.main.elements.pages.profileMain.querySelector("#profileName")],i=(DGW.main.elements.pages.profileMain.querySelector("#profileFriendsAmount"),{confirmed:[DGW.main.elements.widgetBody.querySelector("#dg-o-w-points"),DGW.main.elements.pages.profileMain.querySelector(".dg-o-w-profile-points h3")],pending:[DGW.main.elements.pages.profileMain.querySelector(".dg-o-w-profile-points h5")]}),o={confirmed:[DGW.main.elements.widgetBody.querySelector("#dg-o-w-credits"),DGW.main.elements.pages.profileMain.querySelector(".dg-o-w-profile-credits h3")],pending:[DGW.main.elements.pages.profileMain.querySelector(".dg-o-w-profile-credits h5")]};t.forEach(function(t){t.src=e.ImageUrl||t.src}),n.forEach(function(t){t.innerHTML=e.UserName}),i.confirmed.forEach(function(t){t.innerHTML=e.Wallet.PointsConfirmed}),i.pending.forEach(function(t){t.innerHTML=e.Wallet.PointsPending}),o.confirmed.forEach(function(t){t.innerHTML=e.Wallet.CreditsConfirmed}),o.pending.forEach(function(t){t.innerHTML=e.Wallet.CreditsPending})},DGW.main.methods.updateUserInfoBet=function(e,t){var n={confirmed:[DGW.main.elements.widgetBody.querySelector("#dg-o-w-points"),DGW.main.elements.pages.profileMain.querySelector(".dg-o-w-profile-points h3")],pending:[DGW.main.elements.pages.profileMain.querySelector(".dg-o-w-profile-points h5")]},i={confirmed:[DGW.main.elements.widgetBody.querySelector("#dg-o-w-credits"),DGW.main.elements.pages.profileMain.querySelector(".dg-o-w-profile-credits h3")],pending:[DGW.main.elements.pages.profileMain.querySelector(".dg-o-w-profile-credits h5")]},o=DGW.main.elements.widgetContent.querySelector(".dg-o-w-your-bet span");n.confirmed.forEach(function(e){e.innerHTML=t.Wallet.PointsConfirmed}),n.pending.forEach(function(e){e.innerHTML=t.Wallet.PointsPending}),i.confirmed.forEach(function(e){e.innerHTML=t.Wallet.CreditsConfirmed}),i.pending.forEach(function(e){e.innerHTML=t.Wallet.CreditsPending}),o.innerHTML=e.TicketsAmount||0},DGW.main.methods.drawsConstructor=function(e){var t=DGW.main.elements.pages.drawsMain.querySelector(".dg-o-w-list-draws");t.innerHTML="",e&&e.drawsList.forEach(function(n){var i=document.createElement("li");i.id=n.DrawId,i.setAttribute("data-end-date",n.EndDate);var o=e.drawsEntries.filter(function(e){return e.DrawId==n.DrawId})[0];if(o)var a=o.TicketsAmount;i.innerHTML='<div class="dg-o-w-draw"><img src="'+n.Prize.ImageUrl.replace(/api/g,"everton")+'" /><div class="dg-o-w-draw-text"><h2 class="dg-o-w-draw-countdown">&nbsp;</h2><p>'+n.Prize.Description+"</p></div>"+(void 0!=o?'<div class="dg-o-w-draw-bet">You\'ve bet: <span>'+a+"</span> points</div>":"")+"</div>",DGW.helpers.drawsTimer.push({dt:n.EndDate,elem:i.querySelector(".dg-o-w-draw-countdown")})||DGW.helpers.addClass(i,"expired"),o&&o.IsWinner&&(DGW.helpers.addClass(i,"winner"),o.NeedToClaimPrize&&DGW.helpers.addClass(i,"claim-prize")),i.addEventListener("click",function(){DGW.main.methods.singleDrawConstructor(n.DrawId)}),t.appendChild(i)})},DGW.main.methods.singleDrawConstructor=function(e){var t=DGW.main.cache.drawsList.filter(function(t){return t.DrawId===e})[0],n=DGW.main.cache.drawsEntries.filter(function(t){return t.DrawId===e})[0],i=DGW.main.elements.pages.singleDraw,o='<div class="dg-o-w-draw-left-side"><div class="prize-image"><div><img src="'+t.Prize.ImageUrl.replace(/api/g,"everton")+'" /></div></div></div>',a='<div class="dg-o-w-draw-share"><a href="#" class="dg-o-w-like dg-o-w-facebook-like">Like and get 10 points</a><a href="#" class="dg-o-w-like dg-o-w-twitter-like">Tweet and get 10 points</a></div>',s='<div class="dg-o-w-submenu"><ul><li class="dg-o-w-back-draws">&lt; Back</li></ul><div class="right-side">'+(void 0!=n&&n.IsWinner?"You've spent "+n.TicketsAmount+" points and won!":"Minimum bet is 10")+"</div></div>";DGW.main.elements.widgetContent.children.length>0&&DGW.main.elements.widgetContent.removeChild(DGW.main.elements.widgetContent.childNodes[0]),i.innerHTML=s+'<div class="dg-o-w-section-content"><div class="dg-o-w-single-draw">'+o+'<div class="dg-o-w-draw-right-side"><h2 class="dg-o-w-countdown">&nbsp;</h2><h5>'+t.Prize.Title+"</h5><p>"+t.Prize.Description+'</p><div class="dg-o-w-draw-bet-info dg-o-w-draw-auth-show"><div class="dg-o-w-your-bet">You\'ve bet <span></span> points</div><div class="dg-o-w-users-done"><div><img src="http://lorempixel.com/70/70/people/1" /><img src="http://lorempixel.com/70/70/people/2" /><img src="http://lorempixel.com/70/70/people/3" /></div><p>10 users have done this</p></div></div><h2 class="dg-o-w-draw-login-show">Please, log in to bet</h2><div class="dg-o-w-draw-bet-action dg-o-w-draw-auth-show"><h5>How much do you want to bet?</h5><form id="bet-form" class="dg-o-w-one-field-form"><input type="number" min="10" max="1000" placeholder="10 points"/><input type="submit" value="Bet points" /><p class="dg-o-w-form-message">something has happened</p></form><div class="btn-dg-o-w-outline">Get additional points</div></div>'+(null!==t.Winner?'<div class="dg-o-w-draw-winner"><h2>Winner</h2><img src="'+(t.Winner.ImageUrl||"./imgs/avatars/p21.jpg")+'" /><h4>'+t.Winner.UserName+"</h4></div>":"")+a+"</div></div></div>",n&&n.IsWinner&&(1==n.NeedToClaimPrize?i.innerHTML=s+'<div class="dg-o-w-section-content"><div class="dg-o-w-single-draw">'+o+'<div class="dg-o-w-draw-right-side won"><h2>Congrats, you\'ve won!!!</h2><h5>'+t.Prize.Title+"</h5><p>"+t.Prize.Description+'</p><div><h2 class="show-claimed">You\'ve already claimed your prize!</h2><h5 class="hide-claimed">Put your address to get the prize</h5><form id="claim-prize" class="dg-o-w-form hide-claimed"><input type="text" placeholder="Address line 1" /><input type="text" placeholder="Address line 2" /><input type="text" placeholder="County" /><input type="text" placeholder="Postcode" /><input type="submit" value="Submit " /><p class="dg-o-w-form-message">something has happened</p></form></div>'+a+"</div></div></div>":i.innerHTML=s+'<div class="dg-o-w-section-content"><div class="dg-o-w-single-draw">'+o+'<div class="dg-o-w-draw-right-side won"><h2>Congrats, you\'ve won!!!</h2><h5>'+t.Prize.Title+"</h5><p>"+t.Prize.Description+"</p><div><h2>You've already claimed your prize!</h2></div>"+a+"</div></div></div>"),i.querySelector(".dg-o-w-submenu li.dg-o-w-back-draws").addEventListener("click",function(){DGW.main.methods.changeMainState("draws")}),i.querySelector("#bet-form")&&i.querySelector("#bet-form").addEventListener("submit",function(t){t.preventDefault();var n=+this.querySelector("input[type=number]").value;n>0&&DGW.global.api.requests.drawBet(e,n)}),i.querySelector("#claim-prize")&&i.querySelector("#claim-prize").addEventListener("submit",function(t){t.preventDefault();var n=this,o="";Array.prototype.slice.call(n.querySelectorAll("input:not([type=submit])")).forEach(function(e){o+=e.placeholder+": ",o+=e.value,o+="; "}),console.log(o),""!=o&&DGW.global.api.requests.claimPrize(e,o,i.querySelector(".dg-o-w-single-draw"))}),DGW.helpers.drawsTimer.push({dt:t.EndDate,elem:i.querySelector(".dg-o-w-countdown")})||DGW.helpers.addClass(i.querySelector(".dg-o-w-single-draw"),"expired"),DGW.main.elements.widgetContent.appendChild(i),DGW.main.methods.checkSectionHeight()};var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.addEventListener("load",function(){DGW.global.methods.init()});var t=document.getElementById("dgl-gamified-widget").src;t=t.substring(t.lastIndexOf("/")+1,0),e.href=t+"style.min.css",document.head.appendChild(e)}});